<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Get Tickets | The Light Park</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0a0a14;
      --surface: #12121f;
      --surface2: #1a1a2e;
      --border: #2a2a4a;
      --text: #ffffff;
      --text-dim: #8888aa;
      --green: #00e87b;
      --red: #ff3b5c;
      --gold: #ffd93d;
      --gradient: linear-gradient(135deg, #00e87b, #00c9a7);
    }
    
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    /* Splash Screen */
    #splash {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100vh;
      background: var(--bg);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      transition: opacity 0.5s;
    }
    #splash.hidden { opacity: 0; pointer-events: none; }
    #splash img { max-width: 85%; max-height: 40vh; }
    
    body {
      font-family: 'Poppins', sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      line-height: 1.5;
    }
    
    .container {
      max-width: 480px;
      margin: 0 auto;
      padding: 20px;
      min-height: 100vh;
    }
    
    /* Header */
    .header {
      text-align: center;
      padding: 20px 0 30px;
    }
    
    .logo {
      font-size: 24px;
      font-weight: 800;
      color: var(--green);
      letter-spacing: 1px;
    }
    
    .tagline {
      color: var(--text-dim);
      font-size: 13px;
      margin-top: 4px;
    }
    
    /* Tabs */
    .tabs {
      display: flex;
      background: var(--surface);
      border-radius: 12px;
      padding: 4px;
      margin-bottom: 24px;
    }
    
    .tab {
      flex: 1;
      padding: 12px;
      text-align: center;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 600;
      font-size: 14px;
      color: var(--text-dim);
      transition: all 0.2s;
    }
    
    .tab.active {
      background: var(--green);
      color: #000;
    }
    
    .tab:not(.active):hover {
      color: var(--text);
    }
    
    /* Page */
    .page {
      display: none;
    }
    
    .page.active {
      display: block;
    }
    
    /* Section */
    .section {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 20px;
      margin-bottom: 16px;
    }
    
    .section-title {
      font-size: 13px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: var(--text-dim);
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .section-title .step {
      background: var(--green);
      color: #000;
      width: 22px;
      height: 22px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: 700;
    }
    
    /* Location Selector */
    .location-selector {
      position: relative;
    }
    
    .location-display {
      background: var(--surface2);
      border: 2px solid var(--border);
      border-radius: 12px;
      padding: 16px;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: all 0.2s;
    }
    
    .location-display:hover {
      border-color: var(--green);
    }
    
    .location-display .city {
      font-size: 18px;
      font-weight: 700;
    }
    
    .location-display .region {
      font-size: 13px;
      color: var(--text-dim);
    }
    
    .location-display .arrow {
      font-size: 20px;
      color: var(--text-dim);
    }
    
    .location-dropdown {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: var(--surface);
      border: 2px solid var(--green);
      border-radius: 12px;
      margin-top: 8px;
      z-index: 100;
      max-height: 300px;
      overflow-y: auto;
    }
    
    .location-dropdown.show {
      display: block;
    }
    
    .location-option {
      padding: 14px 16px;
      cursor: pointer;
      border-bottom: 1px solid var(--border);
      transition: all 0.15s;
    }
    
    .location-option:last-child {
      border-bottom: none;
    }
    
    .location-option:hover {
      background: rgba(0, 232, 123, 0.1);
    }
    
    .location-option.selected {
      background: rgba(0, 232, 123, 0.15);
    }
    
    .location-option .city {
      font-weight: 600;
    }
    
    .location-option .region {
      font-size: 12px;
      color: var(--text-dim);
    }
    
    /* Date Grid */
    .date-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 8px;
    }
    
    .date-btn {
      background: var(--surface2);
      border: 2px solid var(--border);
      border-radius: 10px;
      padding: 10px 4px;
      color: var(--text);
      cursor: pointer;
      transition: all 0.2s;
      text-align: center;
    }
    
    .date-btn:hover {
      border-color: var(--green);
    }
    
    .date-btn.selected {
      border-color: var(--green);
      background: rgba(0, 232, 123, 0.15);
    }
    
    .date-btn .day {
      font-size: 10px;
      color: var(--text-dim);
      text-transform: uppercase;
    }
    
    .date-btn .num {
      font-size: 20px;
      font-weight: 700;
    }
    
    .date-btn .price {
      font-size: 11px;
      color: var(--green);
      font-weight: 600;
    }
    
    .date-btn.peak .price {
      color: var(--gold);
    }
    
    .date-btn.peak::after {
      content: 'üî•';
      font-size: 10px;
      position: absolute;
      top: 4px;
      right: 4px;
    }
    
    .date-btn {
      position: relative;
    }
    
    /* Month nav */
    .month-nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }
    
    .month-nav button {
      background: var(--surface2);
      border: 1px solid var(--border);
      color: var(--text);
      width: 36px;
      height: 36px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
    }
    
    .month-nav button:hover {
      border-color: var(--green);
    }
    
    .month-nav .month {
      font-weight: 600;
      font-size: 16px;
    }
    
    /* Add-ons */
    .addon-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 14px;
      background: var(--surface2);
      border: 2px solid var(--border);
      border-radius: 12px;
      margin-bottom: 10px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .addon-item:hover {
      border-color: var(--green);
    }
    
    .addon-item.selected {
      border-color: var(--green);
      background: rgba(0, 232, 123, 0.1);
    }
    
    .addon-item.featured {
      background: linear-gradient(135deg, rgba(0, 232, 123, 0.1), rgba(255, 217, 61, 0.1));
      border-color: var(--gold);
    }
    
    .addon-item.featured.selected {
      background: linear-gradient(135deg, rgba(0, 232, 123, 0.2), rgba(255, 217, 61, 0.2));
    }
    
    .addon-check {
      flex-shrink: 0;
    }
    
    .checkbox {
      width: 24px;
      height: 24px;
      border: 2px solid var(--border);
      border-radius: 6px;
      transition: all 0.2s;
      position: relative;
    }
    
    .addon-item.selected .checkbox {
      background: var(--green);
      border-color: var(--green);
    }
    
    .addon-item.selected .checkbox::after {
      content: '‚úì';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: #000;
      font-weight: bold;
      font-size: 14px;
    }
    
    .addon-icon {
      font-size: 24px;
      width: 40px;
      text-align: center;
    }
    
    .addon-info {
      flex: 1;
    }
    
    .addon-name {
      font-weight: 600;
      font-size: 15px;
      margin-bottom: 2px;
    }
    
    .addon-desc {
      font-size: 12px;
      color: var(--text-dim);
    }
    
    .addon-price {
      font-weight: 700;
      color: var(--green);
      font-size: 15px;
    }
    
    .addon-item.featured .addon-name {
      color: var(--gold);
    }
    
    .addon-badge {
      background: var(--gold);
      color: #000;
      font-size: 9px;
      font-weight: 700;
      padding: 2px 6px;
      border-radius: 4px;
      margin-left: 8px;
    }
    
    /* Gift Section */
    .gift-toggle {
      display: flex;
      align-items: center;
      gap: 14px;
      cursor: pointer;
      padding: 4px 0;
    }
    
    .gift-toggle:hover .checkbox {
      border-color: var(--green);
    }
    
    .gift-toggle.selected .checkbox {
      background: var(--green);
      border-color: var(--green);
    }
    
    .gift-toggle.selected .checkbox::after {
      content: '‚úì';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: #000;
      font-weight: bold;
      font-size: 14px;
    }
    
    .gift-check .checkbox {
      position: relative;
    }
    
    .gift-title {
      font-weight: 600;
      font-size: 16px;
    }
    
    .gift-subtitle {
      font-size: 13px;
      color: var(--text-dim);
    }
    
    .gift-qty-section {
      display: none;
      margin-top: 16px;
      padding-top: 16px;
      border-top: 1px solid var(--border);
    }
    
    .gift-qty-section.show {
      display: block;
    }
    
    .gift-qty-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    .gift-qty-label {
      font-size: 15px;
    }
    
    .gift-qty-label span {
      color: var(--text-dim);
      font-size: 13px;
      display: block;
    }
    
    .qty-control {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    
    .qty-btn {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: 2px solid var(--border);
      background: var(--surface2);
      color: var(--text);
      font-size: 20px;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .qty-btn:hover {
      border-color: var(--green);
    }
    
    .qty-num {
      font-size: 24px;
      font-weight: 700;
      min-width: 40px;
      text-align: center;
    }
    
    .gift-note {
      background: rgba(0, 232, 123, 0.1);
      border-radius: 8px;
      padding: 12px;
      margin-top: 12px;
      font-size: 13px;
      color: var(--text-dim);
    }
    
    .gift-note strong {
      color: var(--green);
    }
    
    /* Payment Section */
    .wallet-btn {
      width: 100%;
      padding: 16px;
      border-radius: 12px;
      border: none;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      transition: all 0.2s;
    }
    
    .apple-pay {
      background: #000;
      color: #fff;
      border: 1px solid #333;
    }
    
    .google-pay {
      background: #fff;
      color: #000;
    }
    
    .divider {
      display: flex;
      align-items: center;
      margin: 16px 0;
      color: var(--text-dim);
      font-size: 13px;
    }
    
    .divider::before,
    .divider::after {
      content: '';
      flex: 1;
      height: 1px;
      background: var(--border);
    }
    
    .divider span {
      padding: 0 16px;
    }
    
    .form-group {
      margin-bottom: 14px;
    }
    
    .form-label {
      display: block;
      font-size: 12px;
      font-weight: 500;
      color: var(--text-dim);
      margin-bottom: 6px;
    }
    
    .form-input {
      width: 100%;
      padding: 14px 16px;
      border-radius: 10px;
      border: 2px solid var(--border);
      background: var(--surface2);
      color: var(--text);
      font-size: 16px;
      font-family: inherit;
      transition: all 0.2s;
    }
    
    .form-input:focus {
      outline: none;
      border-color: var(--green);
    }
    
    .form-input::placeholder {
      color: #555;
    }
    
    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }
    
    /* Order Summary */
    .summary-line {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      font-size: 14px;
    }
    
    .summary-line.sub {
      color: var(--text-dim);
      font-size: 13px;
      padding-left: 12px;
    }
    
    .summary-line.total {
      border-top: 2px solid var(--border);
      margin-top: 8px;
      padding-top: 12px;
      font-size: 20px;
      font-weight: 700;
    }
    
    .summary-line.total .amount {
      color: var(--green);
    }
    
    /* Policy */
    .policy-box {
      background: rgba(255, 59, 92, 0.1);
      border: 1px solid rgba(255, 59, 92, 0.3);
      border-radius: 10px;
      padding: 12px 14px;
      font-size: 12px;
      color: var(--red);
      margin-bottom: 16px;
    }
    
    .policy-box strong {
      display: block;
      margin-bottom: 2px;
    }
    
    /* Submit */
    .submit-btn {
      width: 100%;
      padding: 18px;
      border-radius: 12px;
      border: none;
      background: var(--green);
      color: #000;
      font-size: 18px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .submit-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 30px rgba(0, 232, 123, 0.4);
    }
    
    /* Security */
    .security {
      text-align: center;
      padding: 16px;
      color: var(--text-dim);
      font-size: 12px;
    }
    
    /* ========== REDEEM PAGE ========== */
    
    .lookup-section {
      display: flex;
      gap: 10px;
    }
    
    .lookup-section input {
      flex: 1;
    }
    
    .lookup-btn {
      padding: 14px 24px;
      border-radius: 10px;
      border: none;
      background: var(--green);
      color: #000;
      font-weight: 600;
      cursor: pointer;
    }
    
    /* Voucher Card */
    .voucher-card {
      background: linear-gradient(135deg, var(--surface), var(--surface2));
      border: 2px solid var(--green);
      border-radius: 16px;
      padding: 24px;
      text-align: center;
      margin-bottom: 20px;
    }
    
    .voucher-card h3 {
      color: var(--green);
      font-size: 14px;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 8px;
    }
    
    .voucher-value {
      font-size: 48px;
      font-weight: 800;
      color: var(--green);
    }
    
    .voucher-label {
      color: var(--text-dim);
      font-size: 14px;
    }
    
    /* Venue Grid */
    .venue-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10px;
    }
    
    .venue-btn {
      background: var(--surface2);
      border: 2px solid var(--border);
      border-radius: 12px;
      padding: 16px 12px;
      color: var(--text);
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      text-align: center;
    }
    
    .venue-btn:hover {
      border-color: var(--green);
    }
    
    .venue-btn.selected {
      border-color: var(--green);
      background: rgba(0, 232, 123, 0.15);
    }
    
    .venue-btn .city {
      font-size: 15px;
      font-weight: 700;
    }
    
    .venue-btn .region {
      font-size: 11px;
      color: var(--text-dim);
      margin-top: 2px;
    }
    
    /* QR Display */
    .qr-section {
      text-align: center;
    }
    
    .qr-card {
      background: #fff;
      border-radius: 16px;
      padding: 24px;
      display: inline-block;
      margin-bottom: 20px;
    }
    
    .qr-placeholder {
      width: 200px;
      height: 200px;
      background: #f0f0f0;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #666;
      font-size: 14px;
      margin-bottom: 12px;
    }
    
    .qr-order {
      color: #333;
      font-weight: 700;
      font-size: 16px;
    }
    
    .success-card {
      background: rgba(0, 232, 123, 0.1);
      border: 2px solid var(--green);
      border-radius: 16px;
      padding: 24px;
      text-align: center;
      margin-bottom: 20px;
    }
    
    .success-card h3 {
      font-size: 24px;
      margin-bottom: 8px;
    }
    
    .success-card .details {
      color: var(--text-dim);
      font-size: 14px;
    }
    
    .success-card .details strong {
      color: var(--text);
    }
    
    .wallet-add-btn {
      width: 100%;
      padding: 16px;
      border-radius: 12px;
      background: var(--surface);
      border: 2px solid var(--border);
      color: var(--text);
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
    }
    
    /* Hide/show states */
    .hidden {
      display: none !important;
    }
  </style>
</head>
<body>
  <!-- Splash Screen -->
  <div id="splash">
    <img src="ticketing-logo.jpg" alt="Ticketing" style="max-width: 85%; max-height: 40vh;">
  </div>
  <script>setTimeout(()=>{document.getElementById('splash').classList.add('hidden');},2000);</script>
  
  <div class="container">
    <!-- Tabs -->
    <div class="tabs">
      <div class="tab active" onclick="showPage('buy')">üé´ Buy Tickets</div>
      <div class="tab" onclick="showPage('redeem')">üéÅ Redeem Gift</div>
    </div>
    
    <!-- ========== BUY PAGE ========== -->
    <div class="page active" id="buyPage">
      
      <!-- Step 1: Location -->
      <div class="section">
        <div class="section-title"><span class="step">1</span> Select Location</div>
        <div class="location-selector">
          <div class="location-display" onclick="toggleLocationDropdown()">
            <div>
              <div class="city" id="selectedCity">Katy</div>
              <div class="region" id="selectedRegion">Houston Area</div>
            </div>
            <div class="arrow">‚ñº</div>
          </div>
          <div class="location-dropdown" id="locationDropdown">
            <div class="location-option selected" onclick="selectLocation('Katy', 'Houston Area')">
              <div class="city">Katy</div>
              <div class="region">Houston Area</div>
            </div>
            <div class="location-option" onclick="selectLocation('Spring', 'Houston Area')">
              <div class="city">Spring</div>
              <div class="region">Houston Area</div>
            </div>
            <div class="location-option" onclick="selectLocation('Selma', 'San Antonio Area')">
              <div class="city">Selma</div>
              <div class="region">San Antonio Area</div>
            </div>
            <div class="location-option" onclick="selectLocation('Missions', 'San Antonio Area')">
              <div class="city">Missions</div>
              <div class="region">San Antonio Area</div>
            </div>
            <div class="location-option" onclick="selectLocation('Arlington', 'DFW Area')">
              <div class="city">Arlington</div>
              <div class="region">DFW Area</div>
            </div>
            <div class="location-option" onclick="selectLocation('Frisco', 'DFW Area')">
              <div class="city">Frisco</div>
              <div class="region">DFW Area</div>
            </div>
            <div class="location-option" onclick="selectLocation('Round Rock', 'Austin Area')">
              <div class="city">Round Rock</div>
              <div class="region">Austin Area</div>
            </div>
            <div class="location-option" onclick="selectLocation('Oklahoma City', 'Oklahoma')">
              <div class="city">Oklahoma City</div>
              <div class="region">Oklahoma</div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Step 2: Date -->
      <div class="section">
        <div class="section-title"><span class="step">2</span> Select Date</div>
        <div class="month-nav">
          <button onclick="changeMonth(-1)">‚Üê</button>
          <span class="month" id="currentMonth">December 2026</span>
          <button onclick="changeMonth(1)">‚Üí</button>
        </div>
        <div class="date-grid" id="dateGrid">
          <!-- Populated by JS -->
        </div>
      </div>
      
      <!-- Step 3: Add-ons -->
      <div class="section">
        <div class="section-title"><span class="step">3</span> Add-Ons</div>
        
        <div class="addon-item featured" onclick="toggleAddon(this, 'dasher', 20)">
          <div class="addon-check"><div class="checkbox"></div></div>
          <div class="addon-icon">‚ö°</div>
          <div class="addon-info">
            <div class="addon-name">Dasher Pass <span class="addon-badge">SKIP THE LINE</span></div>
            <div class="addon-desc">VIP fast lane ‚Äî drive past the wait!</div>
          </div>
          <div class="addon-price">+$20</div>
        </div>
        
        <div class="addon-item" onclick="toggleAddon(this, 'blitzen', 29.99)">
          <div class="addon-check"><div class="checkbox"></div></div>
          <div class="addon-icon">üéÅ</div>
          <div class="addon-info">
            <div class="addon-name">Blitzen Bundle</div>
            <div class="addon-desc">Popcorn + 2 Lemonades + 2 Wands + 2 Glasses</div>
          </div>
          <div class="addon-price">+$29.99</div>
        </div>
        
        <div class="addon-item" onclick="toggleAddon(this, 'plush', 24.99)">
          <div class="addon-check"><div class="checkbox"></div></div>
          <div class="addon-icon">üêª‚Äç‚ùÑÔ∏è</div>
          <div class="addon-info">
            <div class="addon-name">DJ Polar Ice Plush</div>
            <div class="addon-desc">Cuddly stuffed polar bear DJ</div>
          </div>
          <div class="addon-price">+$24.99</div>
        </div>
        
        <div class="addon-item" onclick="toggleAddon(this, 'book', 14.99)">
          <div class="addon-check"><div class="checkbox"></div></div>
          <div class="addon-icon">üìñ</div>
          <div class="addon-info">
            <div class="addon-name">Adventures of DJ Polar Ice</div>
            <div class="addon-desc">Illustrated children's storybook</div>
          </div>
          <div class="addon-price">+$14.99</div>
        </div>
        
        <div class="addon-item" onclick="toggleAddon(this, 'popcorn', 9.99)">
          <div class="addon-check"><div class="checkbox"></div></div>
          <div class="addon-icon">üçø</div>
          <div class="addon-info">
            <div class="addon-name">Bucket of Popcorn</div>
            <div class="addon-desc">Hot & fresh movie theater style</div>
          </div>
          <div class="addon-price">+$9.99</div>
        </div>
        
        <div class="addon-item" onclick="toggleAddon(this, 'wand', 7.99)">
          <div class="addon-check"><div class="checkbox"></div></div>
          <div class="addon-icon">ü™Ñ</div>
          <div class="addon-info">
            <div class="addon-name">The Light Wand</div>
            <div class="addon-desc">Be the brightest car in the show!</div>
          </div>
          <div class="addon-price">+$7.99</div>
        </div>
        
        <div class="addon-item" onclick="toggleAddon(this, 'lemonade', 5.99)">
          <div class="addon-check"><div class="checkbox"></div></div>
          <div class="addon-icon">üçã</div>
          <div class="addon-info">
            <div class="addon-name">Electric Lemonade</div>
            <div class="addon-desc">Refreshing drink in souvenir cup</div>
          </div>
          <div class="addon-price">+$5.99</div>
        </div>
        
        <div class="addon-item" onclick="toggleAddon(this, 'glasses', 5.99)">
          <div class="addon-check"><div class="checkbox"></div></div>
          <div class="addon-icon">‚ú®</div>
          <div class="addon-info">
            <div class="addon-name">2-Pack Magic Glasses</div>
            <div class="addon-desc">Holographic lenses ‚Äî see the magic!</div>
          </div>
          <div class="addon-price">+$5.99</div>
        </div>
        
        <div class="addon-item" onclick="toggleAddon(this, 'cotton', 4.99)">
          <div class="addon-check"><div class="checkbox"></div></div>
          <div class="addon-icon">üç≠</div>
          <div class="addon-info">
            <div class="addon-name">Cotton Candy</div>
            <div class="addon-desc">Fluffy, sweet, and festive</div>
          </div>
          <div class="addon-price">+$4.99</div>
        </div>
      </div>
      
      <!-- Step 4: Gift Tickets -->
      <div class="section">
        <div class="section-title"><span class="step">4</span> Gift Tickets</div>
        
        <div class="gift-toggle" id="giftToggle" onclick="toggleGiftSection()">
          <div class="gift-check"><div class="checkbox"></div></div>
          <div>
            <div class="gift-title">üéÅ Buy tickets as a gift?</div>
            <div class="gift-subtitle">Send vouchers to friends & family</div>
          </div>
        </div>
        
        <div class="gift-qty-section" id="giftQtySection">
          <div class="gift-qty-row">
            <div class="gift-qty-label">
              How many gift tickets?
              <span>$39.99 each (base price)</span>
            </div>
            <div class="qty-control">
              <button class="qty-btn" onclick="changeGiftQty(-1)">‚àí</button>
              <span class="qty-num" id="giftQty">1</span>
              <button class="qty-btn" onclick="changeGiftQty(1)">+</button>
            </div>
          </div>
          <div class="gift-note">
            <strong>How it works:</strong> Recipients get a $39.99 voucher code. They pick their own date, location, and add-ons ‚Äî and pay any difference.
          </div>
        </div>
      </div>
      
      <!-- Step 5: Payment -->
      <div class="section">
        <div class="section-title"><span class="step">5</span> Payment</div>
        
        <button class="wallet-btn apple-pay">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.53 4.09zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"/></svg>
           Pay
        </button>
        
        <button class="wallet-btn google-pay">
          <svg width="20" height="20" viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>
          Google Pay
        </button>
        
        <div class="divider"><span>or pay with card</span></div>
        
        <div class="form-group">
          <label class="form-label">Email</label>
          <input type="email" class="form-input" placeholder="you@email.com">
        </div>
        
        <div class="form-group">
          <label class="form-label">Card Number</label>
          <input type="text" class="form-input" placeholder="1234 5678 9012 3456">
        </div>
        
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Expiry</label>
            <input type="text" class="form-input" placeholder="MM / YY">
          </div>
          <div class="form-group">
            <label class="form-label">CVC</label>
            <input type="text" class="form-input" placeholder="123">
          </div>
        </div>
        
        <div class="form-group">
          <label class="form-label">Name on Card</label>
          <input type="text" class="form-input" placeholder="John Smith">
        </div>
      </div>
      
      <!-- Order Summary -->
      <div class="section">
        <div class="section-title">üßæ Order Summary</div>
        <div id="summaryLines">
          <!-- Populated by JS -->
        </div>
        <div class="summary-line total">
          <span>Total</span>
          <span class="amount" id="totalAmount">$39.99</span>
        </div>
      </div>
      
      <!-- Policy -->
      <div class="policy-box">
        <strong>‚ö†Ô∏è All Sales Final</strong>
        No refunds or exchanges. Gift vouchers valid for 2026 season.
      </div>
      
      <!-- Submit -->
      <button class="submit-btn" id="submitBtn" onclick="submitOrder()">
        Complete Purchase ‚Äî $39.99
      </button>
      
      <div class="security">üîí Secured by Stripe</div>
    </div>
    
    <!-- ========== REDEEM PAGE ========== -->
    <div class="page" id="redeemPage">
      
      <!-- Lookup -->
      <div id="redeemLookup">
        <div class="section">
          <div class="section-title">üéÅ Redeem Your Gift</div>
          <p style="color: var(--text-dim); font-size: 14px; margin-bottom: 16px;">
            Enter the gift code you received to redeem your tickets.
          </p>
          <div class="lookup-section">
            <input type="text" class="form-input" placeholder="Gift code (e.g. GIFT-XXXX-XXXX)" id="giftCodeInput">
            <button class="lookup-btn" onclick="lookupGift()">Redeem</button>
          </div>
        </div>
      </div>
      
      <!-- Redemption Flow (hidden initially) -->
      <div id="redeemFlow" class="hidden">
        
        <!-- Voucher Value -->
        <div class="voucher-card">
          <h3>Gift Voucher</h3>
          <div class="voucher-value">$39.99</div>
          <div class="voucher-label">loaded & ready to use</div>
        </div>
        
        <!-- Step 1: Location -->
        <div class="section">
          <div class="section-title"><span class="step">1</span> Select Location</div>
          <div class="venue-grid">
            <button class="venue-btn" onclick="selectRedeemVenue(this)">
              <div class="city">Katy</div>
              <div class="region">Houston Area</div>
            </button>
            <button class="venue-btn" onclick="selectRedeemVenue(this)">
              <div class="city">Spring</div>
              <div class="region">Houston Area</div>
            </button>
            <button class="venue-btn" onclick="selectRedeemVenue(this)">
              <div class="city">Selma</div>
              <div class="region">San Antonio Area</div>
            </button>
            <button class="venue-btn" onclick="selectRedeemVenue(this)">
              <div class="city">Missions</div>
              <div class="region">San Antonio Area</div>
            </button>
            <button class="venue-btn" onclick="selectRedeemVenue(this)">
              <div class="city">Arlington</div>
              <div class="region">DFW Area</div>
            </button>
            <button class="venue-btn" onclick="selectRedeemVenue(this)">
              <div class="city">Frisco</div>
              <div class="region">DFW Area</div>
            </button>
            <button class="venue-btn" onclick="selectRedeemVenue(this)">
              <div class="city">Round Rock</div>
              <div class="region">Austin Area</div>
            </button>
            <button class="venue-btn" onclick="selectRedeemVenue(this)">
              <div class="city">Oklahoma City</div>
              <div class="region">Oklahoma</div>
            </button>
          </div>
        </div>
        
        <!-- Step 2: Date -->
        <div class="section">
          <div class="section-title"><span class="step">2</span> Select Date</div>
          <div class="month-nav">
            <button onclick="changeRedeemMonth(-1)">‚Üê</button>
            <span class="month" id="redeemMonth">December 2026</span>
            <button onclick="changeRedeemMonth(1)">‚Üí</button>
          </div>
          <div class="date-grid" id="redeemDateGrid">
            <!-- Populated by JS -->
          </div>
        </div>
        
        <!-- Step 3: Add-ons -->
        <div class="section">
          <div class="section-title"><span class="step">3</span> Add-Ons (Optional)</div>
          
          <div class="addon-item featured" onclick="toggleRedeemAddon(this, 'dasher', 20)">
            <div class="addon-check"><div class="checkbox"></div></div>
            <div class="addon-icon">‚ö°</div>
            <div class="addon-info">
              <div class="addon-name">Dasher Pass <span class="addon-badge">SKIP THE LINE</span></div>
              <div class="addon-desc">VIP fast lane ‚Äî drive past the wait!</div>
            </div>
            <div class="addon-price">+$20</div>
          </div>
          
          <div class="addon-item" onclick="toggleRedeemAddon(this, 'blitzen', 29.99)">
            <div class="addon-check"><div class="checkbox"></div></div>
            <div class="addon-icon">üéÅ</div>
            <div class="addon-info">
              <div class="addon-name">Blitzen Bundle</div>
              <div class="addon-desc">Popcorn + 2 Lemonades + 2 Wands + 2 Glasses</div>
            </div>
            <div class="addon-price">+$29.99</div>
          </div>
          
          <div class="addon-item" onclick="toggleRedeemAddon(this, 'plush', 24.99)">
            <div class="addon-check"><div class="checkbox"></div></div>
            <div class="addon-icon">üêª‚Äç‚ùÑÔ∏è</div>
            <div class="addon-info">
              <div class="addon-name">DJ Polar Ice Plush</div>
              <div class="addon-desc">Cuddly stuffed polar bear DJ</div>
            </div>
            <div class="addon-price">+$24.99</div>
          </div>
          
          <div class="addon-item" onclick="toggleRedeemAddon(this, 'book', 14.99)">
            <div class="addon-check"><div class="checkbox"></div></div>
            <div class="addon-icon">üìñ</div>
            <div class="addon-info">
              <div class="addon-name">Adventures of DJ Polar Ice</div>
              <div class="addon-desc">Illustrated children's storybook</div>
            </div>
            <div class="addon-price">+$14.99</div>
          </div>
          
          <div class="addon-item" onclick="toggleRedeemAddon(this, 'popcorn', 9.99)">
            <div class="addon-check"><div class="checkbox"></div></div>
            <div class="addon-icon">üçø</div>
            <div class="addon-info">
              <div class="addon-name">Bucket of Popcorn</div>
              <div class="addon-desc">Hot & fresh movie theater style</div>
            </div>
            <div class="addon-price">+$9.99</div>
          </div>
          
          <div class="addon-item" onclick="toggleRedeemAddon(this, 'wand', 7.99)">
            <div class="addon-check"><div class="checkbox"></div></div>
            <div class="addon-icon">ü™Ñ</div>
            <div class="addon-info">
              <div class="addon-name">The Light Wand</div>
              <div class="addon-desc">Be the brightest car in the show!</div>
            </div>
            <div class="addon-price">+$7.99</div>
          </div>
          
          <div class="addon-item" onclick="toggleRedeemAddon(this, 'lemonade', 5.99)">
            <div class="addon-check"><div class="checkbox"></div></div>
            <div class="addon-icon">üçã</div>
            <div class="addon-info">
              <div class="addon-name">Electric Lemonade</div>
              <div class="addon-desc">Refreshing drink in souvenir cup</div>
            </div>
            <div class="addon-price">+$5.99</div>
          </div>
          
          <div class="addon-item" onclick="toggleRedeemAddon(this, 'glasses', 5.99)">
            <div class="addon-check"><div class="checkbox"></div></div>
            <div class="addon-icon">‚ú®</div>
            <div class="addon-info">
              <div class="addon-name">2-Pack Magic Glasses</div>
              <div class="addon-desc">Holographic lenses ‚Äî see the magic!</div>
            </div>
            <div class="addon-price">+$5.99</div>
          </div>
          
          <div class="addon-item" onclick="toggleRedeemAddon(this, 'cotton', 4.99)">
            <div class="addon-check"><div class="checkbox"></div></div>
            <div class="addon-icon">üç≠</div>
            <div class="addon-info">
              <div class="addon-name">Cotton Candy</div>
              <div class="addon-desc">Fluffy, sweet, and festive</div>
            </div>
            <div class="addon-price">+$4.99</div>
          </div>
        </div>
        
        <!-- Summary -->
        <div class="section">
          <div class="section-title">üßæ Summary</div>
          <div class="summary-line">
            <span>Gift Voucher</span>
            <span style="color: var(--green);">-$39.99</span>
          </div>
          <div id="redeemSummaryLines">
            <!-- Populated by JS -->
          </div>
          <div class="summary-line total">
            <span>You Pay</span>
            <span class="amount" id="redeemTotal">$0.00</span>
          </div>
        </div>
        
        <!-- Payment (if needed) -->
        <div id="redeemPayment" class="hidden">
          <div class="section">
            <div class="section-title">üí≥ Payment</div>
            <div class="form-group">
              <label class="form-label">Email (for your ticket)</label>
              <input type="email" class="form-input" placeholder="you@email.com">
            </div>
            <button class="wallet-btn apple-pay">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.53 4.09zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"/></svg>
               Pay
            </button>
            <div class="divider"><span>or card</span></div>
            <div class="form-group">
              <label class="form-label">Card Number</label>
              <input type="text" class="form-input" placeholder="1234 5678 9012 3456">
            </div>
            <div class="form-row">
              <div class="form-group">
                <label class="form-label">Expiry</label>
                <input type="text" class="form-input" placeholder="MM / YY">
              </div>
              <div class="form-group">
                <label class="form-label">CVC</label>
                <input type="text" class="form-input" placeholder="123">
              </div>
            </div>
          </div>
        </div>
        
        <!-- Email only (if no payment needed) -->
        <div id="redeemEmailOnly">
          <div class="section">
            <div class="form-group" style="margin-bottom: 0;">
              <label class="form-label">Email (for your ticket)</label>
              <input type="email" class="form-input" placeholder="you@email.com">
            </div>
          </div>
        </div>
        
        <!-- Submit -->
        <button class="submit-btn" id="redeemBtn" onclick="submitRedemption()">
          Get My QR Code ‚Äî Free ‚úì
        </button>
        
        <div class="security">üîí Secured by Stripe</div>
      </div>
      
      <!-- QR Success (hidden initially) -->
      <div id="redeemSuccess" class="hidden">
        <div class="success-card">
          <h3>üéâ You're All Set!</h3>
          <div class="details">
            <strong>2 tickets</strong> for <strong>Austin</strong><br>
            Saturday, December 14, 2026
          </div>
        </div>
        
        <div class="qr-section">
          <div class="qr-card">
            <div class="qr-placeholder">[QR Code]</div>
            <div class="qr-order">Order #TLP-2026-XXXX</div>
          </div>
        </div>
        
        <div class="section" style="text-align: center;">
          <p style="color: var(--text-dim); font-size: 14px; margin-bottom: 16px;">
            üìß We emailed your tickets too!<br>
            Screenshot this QR or add to your wallet.
          </p>
          <button class="wallet-add-btn">Add to Apple Wallet</button>
        </div>
      </div>
      
    </div>
  </div>
  
  <script>
    // ========== STATE ==========
    const BASE_PRICE = 39.99;
    const PEAK_SURCHARGE = 10;
    const VOUCHER_VALUE = 39.99;
    
    let state = {
      location: 'Austin',
      selectedDate: null,
      isPeak: false,
      addons: {},
      giftQty: 0,
      addonsTotal: 0
    };
    
    let redeemState = {
      venue: null,
      selectedDate: null,
      isPeak: false,
      addons: {},
      addonsTotal: 0
    };
    
    // ========== BUY PAGE ==========
    
    function showPage(page) {
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      
      if (page === 'buy') {
        document.querySelector('.tab:first-child').classList.add('active');
        document.getElementById('buyPage').classList.add('active');
      } else {
        document.querySelector('.tab:last-child').classList.add('active');
        document.getElementById('redeemPage').classList.add('active');
      }
    }
    
    function toggleLocationDropdown() {
      document.getElementById('locationDropdown').classList.toggle('show');
    }
    
    function selectLocation(city, region) {
      state.location = city;
      document.getElementById('selectedCity').textContent = city;
      document.getElementById('selectedRegion').textContent = region;
      document.getElementById('locationDropdown').classList.remove('show');
      
      // Update selected state
      document.querySelectorAll('.location-option').forEach(opt => {
        opt.classList.remove('selected');
        if (opt.querySelector('.city').textContent === city) {
          opt.classList.add('selected');
        }
      });
    }
    
    // Close dropdown when clicking outside
    document.addEventListener('click', (e) => {
      if (!e.target.closest('.location-selector')) {
        document.getElementById('locationDropdown').classList.remove('show');
      }
    });
    
    // Date grid
    function renderDateGrid() {
      const grid = document.getElementById('dateGrid');
      grid.innerHTML = '';
      
      // December 2026 dates (sample)
      const dates = [
        { day: 'Mon', num: 9, peak: false },
        { day: 'Tue', num: 10, peak: false },
        { day: 'Wed', num: 11, peak: false },
        { day: 'Thu', num: 12, peak: false },
        { day: 'Fri', num: 13, peak: true },
        { day: 'Sat', num: 14, peak: true },
        { day: 'Sun', num: 15, peak: true },
        { day: 'Mon', num: 16, peak: false },
        { day: 'Tue', num: 17, peak: false },
        { day: 'Wed', num: 18, peak: false },
        { day: 'Thu', num: 19, peak: false },
        { day: 'Fri', num: 20, peak: true },
        { day: 'Sat', num: 21, peak: true },
        { day: 'Sun', num: 22, peak: true },
        { day: 'Mon', num: 23, peak: true }, // Christmas week
        { day: 'Tue', num: 24, peak: true }, // Christmas Eve
      ];
      
      dates.forEach(d => {
        const btn = document.createElement('button');
        btn.className = 'date-btn' + (d.peak ? ' peak' : '');
        btn.innerHTML = `
          <div class="day">${d.day}</div>
          <div class="num">${d.num}</div>
          <div class="price">${d.peak ? '+$' + PEAK_SURCHARGE : '$' + BASE_PRICE}</div>
        `;
        btn.onclick = () => selectDate(btn, d.num, d.peak);
        grid.appendChild(btn);
      });
    }
    
    function selectDate(btn, num, isPeak) {
      document.querySelectorAll('#dateGrid .date-btn').forEach(b => b.classList.remove('selected'));
      btn.classList.add('selected');
      state.selectedDate = num;
      state.isPeak = isPeak;
      updateSummary();
    }
    
    function changeMonth(dir) {
      // Just visual for prototype
      const el = document.getElementById('currentMonth');
      if (dir > 0) el.textContent = 'January 2027';
      else el.textContent = 'December 2026';
    }
    
    function toggleAddon(el, name, price) {
      el.classList.toggle('selected');
      
      if (el.classList.contains('selected')) {
        state.addons[name] = price;
      } else {
        delete state.addons[name];
      }
      
      updateSummary();
    }
    
    function toggleGiftSection() {
      const toggle = document.getElementById('giftToggle');
      const section = document.getElementById('giftQtySection');
      
      toggle.classList.toggle('selected');
      
      if (toggle.classList.contains('selected')) {
        section.classList.add('show');
        state.giftQty = 1;
      } else {
        section.classList.remove('show');
        state.giftQty = 0;
      }
      
      updateSummary();
    }
    
    function changeGiftQty(delta) {
      state.giftQty = Math.max(1, Math.min(10, state.giftQty + delta));
      document.getElementById('giftQty').textContent = state.giftQty;
      updateSummary();
    }
    
    function updateSummary() {
      const lines = document.getElementById('summaryLines');
      let html = '';
      let total = 0;
      
      // Base ticket
      const ticketPrice = BASE_PRICE + (state.isPeak ? PEAK_SURCHARGE : 0);
      html += `<div class="summary-line"><span>üé´ General Admission${state.isPeak ? ' (Peak)' : ''}</span><span>$${ticketPrice.toFixed(2)}</span></div>`;
      total += ticketPrice;
      
      // Add-ons
      for (const [name, price] of Object.entries(state.addons)) {
        const displayName = {
          dasher: '‚ö° Dasher Pass',
          blitzen: 'üéÅ Blitzen Bundle',
          plush: 'üêª‚Äç‚ùÑÔ∏è DJ Polar Ice Plush',
          book: 'üìñ Storybook',
          popcorn: 'üçø Popcorn',
          wand: 'ü™Ñ Light Wand',
          lemonade: 'üçã Electric Lemonade',
          glasses: '‚ú® Magic Glasses',
          cotton: 'üç≠ Cotton Candy'
        }[name] || name;
        
        html += `<div class="summary-line sub"><span>${displayName}</span><span>+$${price.toFixed(2)}</span></div>`;
        total += price;
      }
      
      // Gift tickets
      if (state.giftQty > 0) {
        const giftTotal = state.giftQty * BASE_PRICE;
        html += `<div class="summary-line"><span>üéÅ Gift Tickets (${state.giftQty}x)</span><span>$${giftTotal.toFixed(2)}</span></div>`;
        total += giftTotal;
      }
      
      lines.innerHTML = html;
      document.getElementById('totalAmount').textContent = '$' + total.toFixed(2);
      document.getElementById('submitBtn').textContent = 'Complete Purchase ‚Äî $' + total.toFixed(2);
    }
    
    function submitOrder() {
      alert('üéâ This is a prototype!\n\nIn production, this would:\n1. Create a Stripe Checkout session\n2. Email your QR code ticket\n3. Email gift voucher codes (if any)\n\nYour ticket: Dec ' + (state.selectedDate || '14') + ', ' + state.location);
    }
    
    // ========== REDEEM PAGE ==========
    
    function lookupGift() {
      const code = document.getElementById('giftCodeInput').value;
      if (!code) {
        alert('Please enter your gift code');
        return;
      }
      
      // Show redemption flow
      document.getElementById('redeemLookup').classList.add('hidden');
      document.getElementById('redeemFlow').classList.remove('hidden');
      
      renderRedeemDateGrid();
    }
    
    function selectRedeemVenue(btn) {
      document.querySelectorAll('.venue-btn').forEach(b => b.classList.remove('selected'));
      btn.classList.add('selected');
      redeemState.venue = btn.querySelector('.city').textContent;
    }
    
    function renderRedeemDateGrid() {
      const grid = document.getElementById('redeemDateGrid');
      grid.innerHTML = '';
      
      const dates = [
        { day: 'Mon', num: 9, peak: false },
        { day: 'Tue', num: 10, peak: false },
        { day: 'Wed', num: 11, peak: false },
        { day: 'Thu', num: 12, peak: false },
        { day: 'Fri', num: 13, peak: true },
        { day: 'Sat', num: 14, peak: true },
        { day: 'Sun', num: 15, peak: true },
        { day: 'Mon', num: 16, peak: false },
        { day: 'Tue', num: 17, peak: false },
        { day: 'Wed', num: 18, peak: false },
        { day: 'Thu', num: 19, peak: false },
        { day: 'Fri', num: 20, peak: true },
        { day: 'Sat', num: 21, peak: true },
        { day: 'Sun', num: 22, peak: true },
        { day: 'Mon', num: 23, peak: true },
        { day: 'Tue', num: 24, peak: true },
      ];
      
      dates.forEach(d => {
        const btn = document.createElement('button');
        btn.className = 'date-btn' + (d.peak ? ' peak' : '');
        btn.innerHTML = `
          <div class="day">${d.day}</div>
          <div class="num">${d.num}</div>
          <div class="price">${d.peak ? '+$' + PEAK_SURCHARGE : 'Included'}</div>
        `;
        btn.onclick = () => selectRedeemDate(btn, d.num, d.peak);
        grid.appendChild(btn);
      });
    }
    
    function selectRedeemDate(btn, num, isPeak) {
      document.querySelectorAll('#redeemDateGrid .date-btn').forEach(b => b.classList.remove('selected'));
      btn.classList.add('selected');
      redeemState.selectedDate = num;
      redeemState.isPeak = isPeak;
      updateRedeemSummary();
    }
    
    function changeRedeemMonth(dir) {
      const el = document.getElementById('redeemMonth');
      if (dir > 0) el.textContent = 'January 2027';
      else el.textContent = 'December 2026';
    }
    
    function toggleRedeemAddon(el, name, price) {
      el.classList.toggle('selected');
      
      if (el.classList.contains('selected')) {
        redeemState.addons[name] = price;
      } else {
        delete redeemState.addons[name];
      }
      
      updateRedeemSummary();
    }
    
    function updateRedeemSummary() {
      const lines = document.getElementById('redeemSummaryLines');
      let html = '';
      let extras = 0;
      
      // Peak surcharge
      if (redeemState.isPeak) {
        html += `<div class="summary-line"><span>üî• Peak Date Surcharge</span><span>+$${PEAK_SURCHARGE.toFixed(2)}</span></div>`;
        extras += PEAK_SURCHARGE;
      }
      
      // Add-ons
      for (const [name, price] of Object.entries(redeemState.addons)) {
        const displayName = {
          dasher: '‚ö° Dasher Pass',
          blitzen: 'üéÅ Blitzen Bundle',
          plush: 'üêª‚Äç‚ùÑÔ∏è DJ Polar Ice Plush',
          book: 'üìñ Storybook',
          popcorn: 'üçø Popcorn',
          wand: 'ü™Ñ Light Wand',
          lemonade: 'üçã Electric Lemonade',
          glasses: '‚ú® Magic Glasses',
          cotton: 'üç≠ Cotton Candy'
        }[name] || name;
        
        html += `<div class="summary-line"><span>${displayName}</span><span>+$${price.toFixed(2)}</span></div>`;
        extras += price;
      }
      
      lines.innerHTML = html;
      
      const youPay = Math.max(0, extras);
      document.getElementById('redeemTotal').textContent = '$' + youPay.toFixed(2);
      
      // Show/hide payment section
      if (youPay > 0) {
        document.getElementById('redeemPayment').classList.remove('hidden');
        document.getElementById('redeemEmailOnly').classList.add('hidden');
        document.getElementById('redeemBtn').textContent = 'Pay $' + youPay.toFixed(2) + ' & Get QR Code';
      } else {
        document.getElementById('redeemPayment').classList.add('hidden');
        document.getElementById('redeemEmailOnly').classList.remove('hidden');
        document.getElementById('redeemBtn').textContent = 'Get My QR Code ‚Äî Free ‚úì';
      }
    }
    
    function submitRedemption() {
      document.getElementById('redeemFlow').classList.add('hidden');
      document.getElementById('redeemSuccess').classList.remove('hidden');
    }
    
    // ========== INIT ==========
    renderDateGrid();
    updateSummary();
  </script>
</body>
</html>
